{#
# Home page
#}

{% extends 'base.html.twig' %}

{% block title %}Home page{% endblock %}

{% block header %}
    {{ parent() }}
{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    {{ encore_entry_link_tags('products_list') }}
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('products_list') }}
{% endblock %}

{% block body %}
    <div class="home">
        <h1 class="home__title">Ads List</h1>
        <div class="home__search">
            {{ include('forms/search.html.twig',
                {
                    'searchFormRouteName': 'app_home',
                    'searchFormSubstringValue': app.request.query.get('substring')
                }
            ) }}
        </div>

        {% if isSortBoxVisible %}
            <div class="home__sort-box sort-box">
                <div class="sort-box__title">Sort by:</div>
                <div class="sort-box__items">
                    {% for sortItem in sortItems %}
                        {{ knp_pagination_sortable(
                            products,
                            sortItem['title'],
                            sortItem['field']
                        ) }}
                    {% endfor %}
                </div>
            </div>
        {% endif %}
        <div class="home__products-list">
            {{ render(controller('App\\Controller\\ProductsListController:index',
                {'products': products, 'isUserExperience': isUserExperience}
            )) }}
        </div>
        {{ knp_pagination_render(products) }}
    </div>
{% endblock %}